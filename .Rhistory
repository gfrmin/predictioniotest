install.packages("data.table")
y
y
head(appopen)
nrow(appopen)
length(appopen$user_id)
length(unique(appopen$user_id))
nrow(users)
head(users)
sum(users$user_id %in% appopen$user_id)
head(loggedmeal)
q()
n
head(users)
head(appopen)
install.packages("lubridate")
head(users)
intersect(names(users), names(appopen))
head(appopen)
head(loggedmeal)
table(appopen$event_type)
table(loggedmeal$event_type)
head(appopen)
table(appopen$year)
help.start()
minute(ymd("2012-03-26"))
second
hour
library(lubridate)
head(appopen)
nrow(appopen)
head(appopen[!(user_id %in% users$user_id)])
head(appopen[!(user_id %in% users$user_id)])
nrow(appopen)
head(loggedmeal)
head(users)
nrow(logged_meal)
nrow(loggedmeal)
length(unique(loggedmeal$user_id))
nrow(users)
length(unique(users$user_id))
nrow(loggedmeal)
nrow(loggedmeal)
nrow(loggedmeal)
nrow(loggedmeal[!(user_id %in% users$user_id)])
nrow(loggedweight)
nrow(loggedweight)
nrow(receivedcomment)
)
head(usersplus)
rm(usersplus)
head(usersextra)
head(appopen)
head(appopen)
head(loggedmeal)
head(loggedweight)
head(mealapproved)
head(loggedweight)
head(mealapproved)
head(receivedcomment)
head(usersextra)
head(users)
head(userssignupcancel)
install.packages("tidyr")
head(appopen)
head(appopen[,.N,by=user_id])
head(receivedcommentn)
head(receivedcomment)
head(receivedcommentn)
head(usersextra)
length(loggedweight$user_id)
length(unique(loggedweight$user_id))
head(usersplus)
table(usersplus$timezoneoffset)
head(usersplus)
help.start()
install.packages("randomForest")
head(usersplus)
table(usersplus$cancelled)
table(usersplus$cancelled)
head(usersplus)
head(usersplus)
head(usersplus, 100)
table(usersplus$cancelled)
nrow(usersplus)
sum(usersplus$cancelled)
sum(as.numeric(usersplus$cancelled)
)
head(usersplus)
head(usersrf1)
head(usersplus)
summary(usersrf1)
usersrf1
usersrf1
importance(usersrf1)
varImpPlot(usersrf1)
table(usersplus$month)
usersrf1
head(usersplus)
table(year(usersplus$cancel_date))
table(year(usersplus$ymd(cancel_date)))
table(year(ymd(usersplus$cancel_date)))
ymd(usersplus$cancel_date)
ymd(usersplus$cancel_date)
head(usersplus$cancel_date)
usersplus$cancel_date[1]
ymd(usersplus$cancel_date[1])
library(lubridate)
ymd(usersplus$cancel_date[1])
ymd("2014-04-26")
ymd_hms("2014-04-26")
ymd_hms(usersplus$cancel_date[1])
table(year(usersplus$cancel_date))
table(year(usersplus$cancel_date))
head(usersplus$cancel_date)
head(usersplus$cancel_date)
ymd_hms(head(usersplus$cancel_date))
head(usersplus$cancel_date)
ymd_hms(head(usersplus$cancel_date))
year(ymd_hms(head(usersplus$cancel_date)))
head(users$cancel_date)
head(usersplus$cancelled)
table(usersplus$cancelled)
head(usersplus)
head(usersplus)
head(usersplus)
usersrf1
table(year(users$cancel_date))
table(month(users$cancel_date))
usersplus$cancel_date[1]
ymd("2014-01-01")
head(usersplus)
cancel_date[1] - ymd_hms("2014-01-01 00:00:00")
usersplus$cancel_date[1] - ymd_hms("2014-01-01 00:00:00")
dseconds(usersplus$cancel_date[1] - ymd_hms("2014-01-01 00:00:00"))
usersplus$cancel_date[1] - ymd_hms("2014-01-01 00:00:00")
unclass(usersplus$cancel_date[1] - ymd_hms("2014-01-01 00:00:00"))
usersplus$cancel_date[1]
as.numeric(usersplus$cancel_date[1] - ymd_hms("2014-01-01 00:00:00"))
table(usersplus$canceldays)
users$cancel_date[1]
users$cancel_date[1] + hours(5)
users$cancel_date[1] + dhours(5)
head(users)
users$cancel_date[1]
users$cancel_date[2]
users$cancel_date[2] - ymd_hms("2014-01-01 00:00:00")
summary(usersplus$canceldays)
usersrfcanceldays
usersrfcanceldays
varImpPlot(usersrfcanceldays)
head(appopen)
head(loggedmeal)
head(loggedmealn)
head(appopenn)
head(usersextra)
head(usersextra)
head(usersplus)
head(usersplus)
head(users)
head(appopen)
head(receivedcomment)
head(receivedcomment)
head(users)
head(canceldaten)
head(canceldaten)
head(canceldaten)
head(usersextran)
head(usersextran)
usersextran[user_id == "0022d5d269dfdf49c86fb6ee38933efc"]
usersextran[user_id == "0022d5d269dfdf49c86fb6ee38933efc" && event_type == "cancel"]
canceldaten[user_id == "0022d5d269dfdf49c86fb6ee38933efc"]
head(usersextra[event_type == "cancel"])
head(canceldaten)
tail(usersextran)
head(usersextran[event_type == "cancel"])
usersextran[user_id == "0022d5d269dfdf49c86fb6ee38933efc" && event_type == "cancel"]
usersextran[event_type == "cancel"]
usersextran[user_id == "0022d5d269dfdf49c86fb6ee38933efc"][event_type == "cancel"]
table(usersextran[,.N,by=user_id])
table(usersextran[,.N,by=user_id]$V1)
usersextran[,.N,by=user_id]
usersextran[user_id == "002993f565254d0a363a9d765dd872a5"]
example(data.table)
head(usersextran)
nrow(usersextran)
usersextran$user_id[2]
usersextran$user_id[1]
usersextran[user_id == "0022d5d269dfdf49c86fb6ee38933efc"]
usersextran["0022d5d269dfdf49c86fb6ee38933efc"]
usersextran["0022d5d269dfdf49c86fb6ee38933efc"][event_type == "cancel"]
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], .fun = function(x) {x[x$timestamp <= x[,"event_type" == "cancel"]$timestamp]})
usersextran <- ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[x$timestamp <= x[,"event_type" == "cancel"]$timestamp]})
usersextran
nrow(usersextran["0022d5d269dfdf49c86fb6ee38933efc"]
)
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[x$timestamp <= x[,"event_type" == "cancel"]$timestamp]})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[x$timestamp]})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[,"event_type" == "cancel"]})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[,"event_type"]})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[x$timestamp < x["event_type" == "cancel"]$timestamp]})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[x$timestamp < x["event_type" == "cancel"]$timestamp,]})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[x$timestamp < x["event_type" == "cancel"]$timestamp,]})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x["event_type" == "cancel"]$timestamp})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x["event_type" == "cancel", "timestamp}")
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x["event_type" == "cancel", "timestamp"})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x["event_type" == "cancel", "timestamp"]})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x["event_type" == "cancel",]$timestamp]})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x["event_type" == "cancel",]$timestamp})
usersextran["event_type" == "cancel",]
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[x$event_type == "cancel",]$timestamp})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[x$event_type == "cancel",]$timestamp$V1})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[x$event_type == "cancel",]$timestamp["V1"]})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[x$event_type == "cancel",]$timestamp[V1]})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[x$event_type == "cancel",]$timestamp})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[x$event_type == "cancel",]$timestamp[,2]})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[x$event_type == "cancel",]$timestamp[2]})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[x$event_type == "cancel",]$timestamp[1]})
ddply(usersextran["0022d5d269dfdf49c86fb6ee38933efc"], "user_id", function(x) {x[x$event_type == "cancel",]$timestamp})
nrow(usersextran)
nrow(usersextran)
usersextran["0022d5d269dfdf49c86fb6ee38933efc"]
head(usersextran)
usersextran["0022d5d269dfdf49c86fb6ee38933efc"]
usersextran["0022d5d269dfdf49c86fb6ee38933efc"]
nrow(usersextran)
head(usersextran)
head(usersextran)
head(usersextran)
nrow(usersextran)
head(canceldate)
head(canceldate)
head(canceldate)
head(canceldate)
head(userextran)
head(usersextran)
unique(usersextran$user_id)[2]
usersextran["002993f565254d0a363a9d765dd872a5"\
usersextran["002993f565254d0a363a9d765dd872a5"]
head(canceldate)
usersextran["002993f565254d0a363a9d765dd872a5"]
head(usersextran)
nrow(usersextran)
nrow(usersextran)
nrow(usersextran)
nrow(usersextran)
rm(list = ls())
head(usersextra)
head(usersextran)
help.start()
head(usersextran)
help.start()
head(usersextran)
head(usersextran)
head(usersextran)
head(usersextran)
head(usersextran)
head(usersextran)
head(usersextran)
head(usersextra)
head(usersextran)
head(usersextran)
head(usersextran)
head(usersplus)
usersrfcancel
help(randomForest)
head(usersplus)
usersrfcanceltime
head(usersplus$canceltime)
head(usersplus$canceltime)
ddays(head(usersplus$canceltime))
usersplus[,canceltime := difftime(cancel_date, signup_date, units = "days")]
head(usersplus$canceltime)
usersrfcanceldays
head(usersplus)
head(userspluscanceltimepreds)
head(usersextra)
install.packages("randomSurvivalForest")
help.start()
q()
n
help.start()
head(users)
head(users)
head(usersplus)
head(usersplus)
head(usersplus)
head(usersplus)
max(usersextra$timestamp)
max(period_to_seconds(usersextra$timestamp))
sapply(usersextra$timestamp, period_to_seconds)
table(sapply(usersextra$timestamp, period_to_seconds))
summary(sapply(usersextra$timestamp[1:100], period_to_seconds))
sapply(usersextra$timestamp[1:100], period_to_seconds)
period_to_seconds(usersextra$timestamp[1])
usersextra$timestamp[1]
summary(usersextra$timestamp)
head(usersplus)
lastcanceldate
lastcanceldate
lastcanceldate
lastcanceldate
head(usersplus)
head(usersplus)
head(usersplus)
head(usersplus)
head(usersplus)
head(usersplus)
head(usersplus)
summary(usersplus$cancel
summary(usersplus$canceldayscensorednumber)
usersplus[canceldayscensorednumber == min(usersplus$canceldayscensorednumber)]
usersplus[canceldayscensorednumber == min(usersplus$canceldayscensorednumber)][,difftime(cancel_date, signup_date, units = "days")]
usersplus[canceldayscensorednumber == min(usersplus$canceldayscensorednumber)][,difftime(canceldatecensored, signup_date, units = "days")]
usersplus[canceldayscensorednumber == min(usersplus$canceldayscensorednumber)][,difftime(cancel_date, signup_date, units = "days")]
summary(usersplus$canceldayscensorednumber)
hist(usersplus$canceldayscensorednumber)
hist(usersplus[,canceldayscensorednumber])
hist(usersplus[cancelled == 1,canceldayscensorednumber])
hist(usersplus[cancelled == 0,canceldayscensorednumber])
install.packages("randomForestSRC")
usersplus <- fread("usersplus.csv")
head(usersplus)
library(randomForestSRC)
help.start()
help.start()
remove.packages("randomSurvivalForest")
head(usersplus$cancelled)
q()
n
head(usersplus)
head(usersplus$cancelled)
head(usersplus$cancelled)
usersrsf
plot(usersrsf)
plot(usersrsf)
head(usersplus)
help.start()
usersrsf
plot.survival(usersrsf)
data(veteran, package = "randomForestSRC")
head(veteran)
table(veteran$status)
table(usersplus$cancelled)
v.obj <- rfsrc(Surv(time, status) ~ ., data = veteran, ntree = 100)
plot.survival(v.obj, subset = 1:10, haz.model = "ggamma")
plot.survival(usersrsf, subset = 1:10, haz.model = "ggamma")
plot.survival(usersrsf, subset = 1:10, haz.model = "ggamma")
plot.survival(usersrsf, subset = 1:10, haz.model = "ggamma", cens.model="rfsrc")
usersrsf$family
usersrsf$family
veteran$family
v.obj$family
head(veteran)
head(usersplus)
table(veteran$status)
table(usersplus$cancelled)
table(veteran$time)
summary(veteran$time)
summary(usersplus$canceldayscensorednumber)
table(usersplus[cancelled == 0]$canceldayscensorednumber)
summary(usersplus[cancelled == 0]$canceldayscensorednumber)
rfsrc
finalizeFormula
plot.competing.risk(usersrsf)
help.start()
data(follic, package = "randomForestSRC")
head(follic)
table(follic$status)
follic.obj <- rfsrc(Surv(time, status) ~ ., follic, nsplit = 3, ntree = 100)
plot.competing.risk(follic.obj)
usersplus$cancelled
usersrfcancel
usersrfcancel
plot.survival(usersrsf)
hist(usersplus$canceldayscensorednumber)
hist(usersplus[cancelled == 0]$canceldayscensorednumber)
hist(usersplus[cancelled == 1]$canceldayscensorednumber)
plot.survival(usersrsf)
plot.survival(usersrsf)
install.packages("pec")
install.packages("pec")
q*(
q()
n
